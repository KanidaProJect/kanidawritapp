<!DOCTYPE html>
<html lang="th">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Kanida Plot Studio â€“ à¸Šà¹ˆà¸§à¸¢à¸§à¸²à¸‡à¸à¸¥à¹‡à¸­à¸•</title>
Â  <link rel="icon" href="favicon.ico" type="image/x-icon" />
Â  <link rel="manifest" href="./manifest.json" />
Â  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;700&display=swap" rel="stylesheet" />
Â  <style>
Â  Â  body {
Â  Â  Â  font-family: 'Prompt', sans-serif;
Â  Â  Â  background: #fcfcfc;
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  }
Â  Â  header {
Â  Â  Â  background: #354f52;
Â  Â  Â  color: white;
Â  Â  Â  padding: 1rem;
Â  Â  Â  text-align: center;
Â  Â  }
Â  Â  .container {
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  max-width: 900px;
Â  Â  Â  margin: auto;
Â  Â  Â  padding: 1.5rem;
Â  Â  Â  gap: 1.5rem;
Â  Â  }
Â  Â  .chat-box {
Â  Â  Â  background: #ffffff;
Â  Â  Â  border: 2px dashed #ccc;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  padding: 1.5rem;
Â  Â  Â  height: 400px;
Â  Â  Â  overflow-y: auto;
Â  Â  }
Â  Â  .chat-entry {
Â  Â  Â  margin: 0.75rem 0;
Â  Â  Â  padding: 0.75rem 1rem;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  max-width: 80%;
Â  Â  }
Â  Â  .chat-entry.user {
Â  Â  Â  background: #d8f3dc;
Â  Â  Â  align-self: flex-end;
Â  Â  Â  margin-left: auto;
Â  Â  Â  color: #1b4332;
Â  Â  }
Â  Â  .chat-entry.system {
Â  Â  Â  background: #edf2f4;
Â  Â  Â  align-self: flex-start;
Â  Â  Â  margin-right: auto;
Â  Â  Â  color: #2b2d42;
Â  Â  }
Â  Â  .input-row {
Â  Â  Â  display: flex;
Â  Â  Â  gap: 0.5rem;
Â  Â  }
Â  Â  input[type="text"] {
Â  Â  Â  flex: 1;
Â  Â  Â  padding: 0.75rem;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  border: 1px solid #999;
Â  Â  }
Â  Â  button {
Â  Â  Â  padding: 0.75rem 1rem;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  background: #588157;
Â  Â  Â  color: white;
Â  Â  Â  cursor: pointer;
Â  Â  }
Â  Â  button:hover {
Â  Â  Â  background: #3a5a40;
Â  Â  }
Â  Â  .project-buttons {
Â  Â  Â  display: flex;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  gap: 0.75rem;
Â  Â  }
Â  Â  footer {
Â  Â  Â  text-align: center;
Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  color: #888;
Â  Â  Â  padding-bottom: 1rem;
Â  Â  }
    .form-box {
      background: #e9ecef;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }
    .form-box label {
      display: block;
      font-weight: bold;
      margin-top: 1rem;
    }
    .form-box textarea {
      width: 100%;
      min-height: 80px;
      padding: 0.75rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-top: 0.5rem;
    }
    .form-box button {
      margin-top: 1.5rem;
    }
Â  </style>
</head>
<body>
Â  <header>
Â  Â  <h1>Kanida Plot Studio</h1>
Â  Â  <p>à¸£à¸°à¸šà¸šà¸Šà¹ˆà¸§à¸¢à¸ˆà¸±à¸”à¹‚à¸„à¸£à¸‡à¸à¸¥à¹‡à¸­à¸•à¹à¸šà¸š 6 à¹€à¸ªà¹‰à¸™ â€“ à¹„à¸¡à¹ˆà¸¡à¹‚à¸™ à¹„à¸¡à¹ˆà¹€à¸£à¹ˆà¸‡</p>
Â  </header>
  <div id="episodeFormContainer" style="margin: 2rem 0;"></div>
Â  <div class="container">
Â  Â  <div class="project-buttons">
Â  Â  Â  <button id="btnNewProject">â• à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¹ƒà¸«à¸¡à¹ˆ</button>
Â  Â  Â  <button id="btnLoadProject">ğŸ“‚ à¹€à¸›à¸´à¸”à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¹€à¸”à¸´à¸¡</button>
Â  Â  Â  <button id="btnDeleteProject">ğŸ—‘ï¸ à¸¥à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ</button>
Â  Â  Â  <button id="btnSetupStory">ğŸ“š à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸­à¸™/à¸£à¸°à¸¢à¸°à¹€à¸§à¸¥à¸²</button>
Â  Â  Â  <button id="btnEditEpisode">âœï¸ à¹à¸à¹‰à¹„à¸‚à¸•à¸­à¸™</button>
Â  Â  </div>
Â  Â  <div id="input-panel-container"></div>
Â  Â  <div class="chat-box" id="chatBox">
Â  Â  Â  <div class="chat-entry system">ğŸ‘‹ à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸š! à¸à¸£à¸¸à¸“à¸²à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸¥à¹ˆà¸²à¸Šà¹ˆà¸§à¸‡à¸•à¹‰à¸™à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸‚à¸­à¸‡à¸•à¸±à¸§à¹€à¸­à¸à¹„à¸”à¹‰à¹€à¸¥à¸¢à¸„à¸£à¸±à¸š</div>
Â  Â  </div>
Â  Â  <div class="input-row">
Â  Â  Â  <input type="text" id="userInput" placeholder="à¹€à¸¥à¹ˆà¸²à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸ªà¹ˆà¹ƒà¸™à¸à¸¥à¹‡à¸­à¸•à¸—à¸µà¹ˆà¸™à¸µà¹ˆ..." />
Â  Â  Â  <button onclick="sendMessage()">à¸ªà¹ˆà¸‡</button>
Â  Â  </div>
Â  </div>

Â  <footer>Â© 2025 Kanida Studio â€“ à¸£à¸°à¸šà¸šà¹„à¸¡à¹ˆà¸„à¸´à¸”à¹à¸—à¸™à¸œà¸¹à¹‰à¹€à¸‚à¸µà¸¢à¸™</footer>
Â Â 
Â <script type="module">
Â  import { newProject, loadProjectUI, deleteProject } from './js/projectManager.js';
Â  import { setupStory } from './js/storySetup.js';
Â  import { editEpisode } from './js/episodeMatrix.js';
Â  import { renderInputPanel } from './js/inputPanel.js';

Â  // Initial render
Â  renderInputPanel('hero', 3);

Â  document.getElementById("btnNewProject").addEventListener("click", newProject);
Â  document.getElementById("btnLoadProject").addEventListener("click", loadProjectUI); // à¹à¸à¹‰à¹„à¸‚à¸Šà¸·à¹ˆà¸­à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™
Â  document.getElementById("btnDeleteProject").addEventListener("click", deleteProject);
Â  document.getElementById("btnSetupStory").addEventListener("click", setupStory);
Â  document.getElementById("btnEditEpisode").addEventListener("click", editEpisode);
</script>

Â  <script>
Â  Â  // Global functions for event handling
Â  Â  const chatBox = document.getElementById("chatBox");

Â  Â  window.sendMessage = function () {
Â  Â  Â  const input = document.getElementById("userInput");
Â  Â  Â  const text = input.value.trim();
Â  Â  Â  if (!text) return;

Â  Â  Â  const userEntry = document.createElement("div");
Â  Â  Â  userEntry.className = "chat-entry user";
Â  Â  Â  userEntry.textContent = text;
Â  Â  Â  chatBox.appendChild(userEntry);

Â  Â  Â  const reply = document.createElement("div");
Â  Â  Â  reply.className = "chat-entry system";
Â  Â  Â  reply.textContent = `ğŸ“Œ à¸£à¸°à¸šà¸šà¸£à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢: "${text}"`;
Â  Â  Â  chatBox.appendChild(reply);

Â  Â  Â  input.value = "";
Â  Â  Â  chatBox.scrollTop = chatBox.scrollHeight;
Â  Â  }
Â  </script>
</body>
</html>
